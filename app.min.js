document.querySelector('.header__search').onclick = function (e) {
  console.log('sdf');
  let header__search_fieldset = document.querySelector('.header__search-fieldset');

  if (!e.target.matches('.header__search .header__search-fieldset') && getComputedStyle(header__search_fieldset)['position'] == 'fixed') {
    overlay();
    document.querySelector('.header__search-fieldset').classList.add('header__search-fieldset_active');
    document.querySelector('.header__search-input').focus();
  }
};


document.querySelector('.navigation__item_target_directory').onclick = function (e) {
  if (e.target.matches('.navigation__link')) {
    
    if(document.querySelector('.navigation__directory').classList.contains('navigation__directory_active')) {
      document.querySelector('.navigation__directory').classList.remove('navigation__directory_active');
    } else {
      document.querySelector('.navigation__directory').classList.add('navigation__directory_active');
    }
    overlay();
  }

  // if (e.target.matches('.navigation__link')) {
  //   overlay();
  //  // document.querySelector('.overlay').classList.add('overlay_active');
  //   document.querySelector('.navigation__directory').classList.add('navigation__directory_active');
  // } else {
  //   overlay();
  //   document.querySelector('.navigation__directory').classList.remove('navigation__directory_active');
  // }
};

document.querySelector('.navigation__directory-item_type_header').onclick = function (e) {
  overlay();
  document.querySelector('.navigation__directory').classList.remove('navigation__directory_active');
 // document.querySelector('.body').removeChild(document.querySelector('.overlay'));
};

function overlay() {
  let overlay = document.querySelector('.overlay');

  if(getComputedStyle(overlay)['opacity'] == '1') {
    document.querySelector('.overlay').classList.remove('overlay_active');
  } else {
    document.querySelector('.overlay').classList.add('overlay_active');
  }

  // if(document.querySelector('.overlay') === null) {
  //   let overlay_on = document.createElement('div');
  //   overlay_on.classList.add('overlay');
  //   overlay_on.classList.add('overlay_active');
  //   document.querySelector('.body').insertBefore(overlay_on, document.querySelector('.modal'));
  // } else {
  //   document.querySelector('.body').removeChild(document.querySelector('.overlay'));
  // }

  document.querySelector('.overlay').onclick = function (e) {
    document.querySelector('.overlay').classList.remove('overlay_active');
    document.querySelector('.header__search-fieldset').classList.remove('header__search-fieldset_active');
    document.querySelector('.navigation__directory').classList.remove('navigation__directory_active');
   // document.querySelector('.body').removeChild(document.querySelector('.overlay'));
  };
}

// function activate_item(selector) {
//   let activate_container = document.querySelector('.' + selector);
//   if(!activate_container.classList.contains(selector + '_active')) {
//     activate_container.classList.add(selector + '_active');
//   } 
// }
// function deactivate_item(selector) {
//   let deactivate_container = document.querySelector('.' + selector);
//   if(deactivate_container.classList.contains(selector + '_active')) {
//     deactivate_container.classList.remove(selector + '_active');
//   } 
// }